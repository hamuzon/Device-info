<!DOCTYPE html><html lang="ja">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Device Info</title>
  <link id="favicon" rel="icon" type="image/png" href="icon-dark.png" />
  <style>
    :root {
      --bg-dark: #001b33;
      --bg-light: #f5faff;
      --text-dark: #a3c4f3;
      --text-light: #0a1a33;
      --accent-dark: #4da6ff;
      --accent-light: #4d82ff;
      --font-mono: 'Share Tech Mono', monospace;
    }body {
  margin: 0;
  font-family: var(--font-mono);
  background-color: var(--bg-dark);
  color: var(--text-dark);
  transition: background 0.3s, color 0.3s;
  display: flex;
  flex-direction: column;
  align-items: center;
  padding: 1rem;
}
body.light {
  background-color: var(--bg-light);
  color: var(--text-light);
}

h1 {
  margin-bottom: 1rem;
  font-size: 1.8rem;
}

.controls {
  display: flex;
  gap: 0.5rem;
  margin-bottom: 1.5rem;
  flex-wrap: wrap;
}
.controls button {
  font-family: var(--font-mono);
  padding: 0.5rem 1rem;
  border: 2px solid var(--accent-dark);
  background: transparent;
  color: var(--text-dark);
  cursor: pointer;
  border-radius: 8px;
  transition: 0.3s;
}
body.light .controls button {
  border-color: var(--accent-light);
  color: var(--text-light);
}
.controls button.active {
  background: var(--accent-dark);
  color: #fff;
}
body.light .controls button.active {
  background: var(--accent-light);
}

table {
  width: 100%;
  max-width: 700px;
  border-collapse: collapse;
  margin-bottom: 2rem;
}
th, td {
  padding: 0.6rem 1rem;
  border-bottom: 1px solid #444;
  text-align: left;
  word-break: break-word;
}
body.light th, body.light td {
  border-color: #ccc;
}
th {
  font-weight: bold;
}

footer {
  font-size: 0.85rem;
  text-align: center;
  margin-top: auto;
  padding-top: 1rem;
}
footer a {
  color: inherit;
  text-decoration: underline;
}

  </style>
</head>
<body>
  <h1 id="title">Device Info</h1>
  <div class="controls">
    <button id="btn-ja" class="active" aria-pressed="true">日本語</button>
    <button id="btn-en" aria-pressed="false">English</button>
    <button id="btn-light" aria-pressed="false">ライト</button>
    <button id="btn-dark" class="active" aria-pressed="true">ダーク</button>
  </div>  <table id="info"></table>  <footer>
    © 2025 <a href="https://device-info.hamusata.f5.si" target="_blank" rel="noopener">device-info.hamusata.f5.si</a><br />
    使用ライブラリ: <a href="https://api.ipify.org" target="_blank" rel="noopener">ipify API</a>, JavaScript Web API<br />
    表示される情報は一部、正確でない可能性があります。
  </footer>  <script>
    (function () {
      const dict = {
        ja: {
          title: "デバイス情報",
          os: "OS名",
          version: "バージョン",
          device: "端末名",
          browser: "ブラウザ",
          ua: "ユーザーエージェント",
          screen: "画面解像度",
          viewport: "ビューポート",
          colorDepth: "色深度",
          pixelDepth: "ピクセル深度",
          cpu: "CPUコア数",
          memory: "メモリ",
          ipv4: "IPv4アドレス",
          ipv6: "IPv6アドレス",
          ip: "現在使用IP",
          online: "オンライン状態",
          fetchedAt: "取得時刻",
          now: "現在時刻",
          timezone: "タイムゾーン"
        },
        en: {
          title: "Device Info",
          os: "OS",
          version: "Version",
          device: "Device",
          browser: "Browser",
          ua: "User Agent",
          screen: "Screen",
          viewport: "Viewport",
          colorDepth: "Color Depth",
          pixelDepth: "Pixel Depth",
          cpu: "CPU Cores",
          memory: "Memory",
          ipv4: "IPv4",
          ipv6: "IPv6",
          ip: "Current IP",
          online: "Online",
          fetchedAt: "Fetched At",
          now: "Now",
          timezone: "Timezone"
        }
      };

      let currentLang = 'ja';
      let darkMode = window.matchMedia('(prefers-color-scheme: dark)').matches;
      const table = document.getElementById('info');
      const favicon = document.getElementById('favicon');

      function createRow(label, value) {
        const row = document.createElement('tr');
        row.innerHTML = `<th>${label}</th><td>${value}</td>`;
        return row;
      }

      async function updateInfo() {
        const ua = navigator.userAgent;
        const lang = dict[currentLang];
        table.innerHTML = '';

        const os = /Android/.test(ua) ? 'Android' : /iPhone|iPad/.test(ua) ? 'iOS' : /Windows/.test(ua) ? 'Windows' : /Mac/.test(ua) ? 'macOS' : '不明';
        const version = navigator.appVersion || '不明';
        const device = navigator.platform || '不明';

        const browser = /Chrome/.test(ua) ? 'Chrome' : /Firefox/.test(ua) ? 'Firefox' : /Safari/.test(ua) ? 'Safari' : '不明';

        const ipv4 = await fetch('https://api.ipify.org?format=json').then(r => r.json()).then(d => d.ip).catch(() => '取得失敗');
        const ipv6 = await fetch('https://api64.ipify.org?format=json').then(r => r.json()).then(d => d.ip).catch(() => '取得失敗');
        const currentIP = await fetch('/cdn-cgi/trace').then(r => r.text()).then(t => t.match(/ip=([^\n]+)/)?.[1] || '取得失敗').catch(() => '取得失敗');

        const now = new Date();
        const fetchedAt = new Date();

        const info = [
          [lang.os, os],
          [lang.version, version],
          [lang.device, device],
          [lang.browser, browser],
          [lang.ua, ua],
          [lang.screen, `${screen.width}x${screen.height}`],
          [lang.viewport, `${window.innerWidth}x${window.innerHeight}`],
          [lang.colorDepth, screen.colorDepth],
          [lang.pixelDepth, screen.pixelDepth],
          [lang.cpu, navigator.hardwareConcurrency || '不明'],
          [lang.memory, navigator.deviceMemory ? `${navigator.deviceMemory} GB` : '不明'],
          [lang.ipv6, ipv6],
          [lang.ipv4, ipv4],
          [lang.ip, currentIP],
          [lang.online, navigator.onLine ? 'オンライン' : 'オフライン'],
          [lang.fetchedAt, fetchedAt.toLocaleString()],
          [lang.now, now.toLocaleString()],
          [lang.timezone, Intl.DateTimeFormat().resolvedOptions().timeZone]
        ];

        for (const [label, value] of info) {
          table.appendChild(createRow(label, value));
        }
      }

      function setLang(lang) {
        currentLang = lang;
        document.getElementById('title').textContent = dict[lang].title;
        document.getElementById('btn-ja').classList.toggle('active', lang === 'ja');
        document.getElementById('btn-en').classList.toggle('active', lang === 'en');
        document.getElementById('btn-ja').setAttribute('aria-pressed', lang === 'ja');
        document.getElementById('btn-en').setAttribute('aria-pressed', lang === 'en');
        updateInfo();
      }

      function setMode(isDark) {
        darkMode = isDark;
        document.body.classList.toggle('light', !darkMode);
        document.getElementById('btn-light').classList.toggle('active', !darkMode);
        document.getElementById('btn-dark').classList.toggle('active', darkMode);
        document.getElementById('btn-light').setAttribute('aria-pressed', !darkMode);
        document.getElementById('btn-dark').setAttribute('aria-pressed', darkMode);
        favicon.href = darkMode ? 'icon-dark.png' : 'icon-light.png';
      }

      document.getElementById('btn-ja').onclick = () => setLang('ja');
      document.getElementById('btn-en').onclick = () => setLang('en');
      document.getElementById('btn-light').onclick = () => setMode(false);
      document.getElementById('btn-dark').onclick = () => setMode(true);

      setMode(darkMode);
      updateInfo();
      setInterval(updateInfo, 60000);
    })();
  </script></body>
</html>
